{% extends "layout.html" %}

<style>
/* === FIX DEFINITIVO RIGHE TROPPO ALTE ARCHIVIO CONSEGNATI === */

/* forza la tabella a usare solo le nostre regole */
.table-archivio {
    width: 100%;
    border-collapse: collapse !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* celle compatte */
.table-archivio th,
.table-archivio td {
    padding: 3px 6px !important;
    height: 22px !important;
    line-height: 14px !important;
    font-size: 13px !important;
    color: #e0e0e0;
    background: rgba(0, 0, 0, 0.25) !important;
    vertical-align: middle !important;
}

/* altezza riga */
.table-archivio tr {
    height: 22px !important;
}

/* righe alternate */
.table-archivio tr:nth-child(even) {
    background-color: #26283a !important;
}

/* righe non saldate evidenziate */
.riga-non-saldata {
    background-color: #7a1f1f !important;
}

/* header blu */
.table-archivio th {
    background-color: #00bfff !important;
    color: #ffffff !important;
}
</style>

{% block title %}Archivio Commesse Consegnate{% endblock %}

{% block content %}
<div class="content-wrapper">
    <h1>üìÅ Archivio Commesse Consegnate</h1>

    <table class="table-archivio">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Tipo Intervento</th>
                <th>Data Conferma</th>
                <th>Data Arrivo Materiali</th>
                <th>Data Consegna</th>
                <th>Ore Previste</th>
                <th>Ore Lavorate</th>
                <th>Saldata</th>
                <th>Azione</th>
            </tr>
        </thead>

        <tbody>
            {% for c in commesse %}
            <tr class="{% if c.saldata == 'No' %}riga-non-saldata{% endif %}">
                <td>{{ c.nome }}</td>
                <td>{{ c.tipo_intervento }}</td>
                <td>{{ c.data_conferma }}</td>
                <td>{{ c.data_arrivo_materiali }}</td>
                <td>{{ c.data_consegna }}</td>
                <td>{{ c.ore_previste }}</td>
                <td>{{ c.ore_lavorate }}</td>
                <td>{{ c.saldata }}</td>

                <td>
                    <form action="{{ url_for('toggle_saldata', id=c.id) }}" method="POST">
                        <button class="btn btn-sm btn-primary">Cambia</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}