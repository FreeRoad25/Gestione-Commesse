{% extends "layout.html" %}
{% block title %}Archivio Commesse Consegnate{% endblock %}

{% block content %}

<div class="archivio-page">
    <h1>üìÅ Archivio Commesse Consegnate</h1>

    <table class="table-archivio">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Tipo Intervento</th>
                <th>Data Conferma</th>
                <th>Data Arrivo Materiali</th>
                <th>Data Consegna</th>
                <th>Ore Previste</th>
                <th>Ore Lavorate</th>
                <th>Saldata</th>
                <th>Azione</th>
            </tr>
        </thead>

        <tbody>
            {% for c in commesse %}
            <tr class="{% if c.saldata == 'No' %}riga-non-saldata{% endif %}">
                <td>{{ c.nome }}</td>
                <td>{{ c.tipo_intervento }}</td>
                <td>{{ c.data_conferma }}</td>
                <td>{{ c.data_arrivo_materiali }}</td>
                <td>{{ c.data_consegna }}</td>
                <td>{{ c.ore_previste }}</td>
                <td>{{ c.ore_lavorate }}</td>
                <td>{{ c.saldata }}</td>

                <td>
                    <form action="{{ url_for('toggle_saldata', id=c.id) }}" method="POST">
                        <button class="btn btn-sm btn-primary">Cambia</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- FIX NODEFINITIVE E SICURO SOLO PER QUESTA PAGINA -->
<style>
.archivio-page table,
.archivio-page tr,
.archivio-page td,
.archivio-page th {
    padding: 3px 5px !important;
    margin: 0 !important;
    height: 18px !important;
    line-height: 14px !important;
    font-size: 13px !important;
    white-space: nowrap !important;
}

.archivio-page tr {
    height: 20px !important;
}

.archivio-page {
    padding: 0 !important;
    margin: 0 !important;
}

/* Header */
.table-archivio th {
    background-color: #00bfff !important;
    color: #fff !important;
}

/* Righe alterne */
.table-archivio tr:nth-child(even) {
    background-color: #26283a !important;
}

/* Righe non saldate */
.riga-non-saldata {
    background-color: #4b1f1f !important;
}
</style>

{% endblock %}