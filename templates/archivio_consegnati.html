{% extends "layout.html" %}

<style>
    .table-archivio tr {
        height: 38px !important;
    }
    .table-archivio td,
    .table-archivio th {
        padding: 4px 6px !important;
        line-height: 1.2 !important;
    }
    .riga-non-saldata {
        background-color: #7a1f1f !important;
    }
</style>


{% block title %}Archivio Commesse Consegnate{% endblock %}

{% block content %}
<div class="content-wrapper">
    <h1>üìÅ Archivio Commesse Consegnate</h1>

    <table class="table-archivio">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Tipo Intervento</th>
                <th>Data Conferma</th>
                <th>Data Arrivo Materiali</th>
                <th>Data Consegna</th>
                <th>Ore Previste</th>
                <th>Ore Lavorate</th>
                <th>Saldata</th>
                <th>Azione</th>
            </tr>
        </thead>

        <tbody>
            {% for c in commesse %}
            <tr class="{% if c.saldata == 'No' %}riga-non-saldata{% endif %}">
                <td>{{ c.nome }}</td>
                <td>{{ c.tipo_intervento }}</td>
                <td>{{ c.data_conferma }}</td>
                <td>{{ c.data_arrivo_materiali }}</td>
                <td>{{ c.data_consegna }}</td>
                <td>{{ c.ore_previste }}</td>
                <td>{{ c.ore_lavorate }}</td>
                <td>{{ c.saldata }}</td>

                <td>
                    <form action="{{ url_for('toggle_saldata', id=c.id) }}" method="POST">
                        <button class="btn btn-sm btn-primary">Cambia</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}