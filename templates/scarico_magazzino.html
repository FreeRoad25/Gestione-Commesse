{% extends "layout.html" %}
{% block title %}Scarico Magazzino{% endblock %}

{% block content %}
<div class="content-wrapper">
    <h1>ðŸ”½ Scarico Magazzino</h1>

    <form action="{{ url_for('scarico_magazzino') }}" method="POST" class="mag-form">
        
        <!-- ðŸ”¹ Selezione articolo -->
        <label>Articolo:</label>
        <select name="id_articolo" required>
            <option value="">â€” Seleziona articolo â€”</option>
            {% for art in articoli %}
                <option value="{{ art.id }}" {% if id_articolo == art.id|string %}selected{% endif %}>
                    {{ art.descrizione }}
                </option>
            {% endfor %}
        </select>

        <!-- ðŸ”¹ QuantitÃ  -->
        <label>QuantitÃ  da scaricare:</label>
        <input type="number" step="0.01" name="quantita" placeholder="Inserisci quantitÃ " required>

        <label>Commessa:</label>
    <select name="id_commessa" required>
        <option value="">â€” Seleziona commessa â€”</option>
        {% for com in commesse %}
            <option value="{{ com.id }}">Commessa {{ com.id }} â€” {{ com.nome }}</option>
        {% endfor %}
    </select>

        <!-- ðŸ”¹ Note -->
        <label>Note:</label>
        <textarea name="note" placeholder="Annotazioni (facoltativo)"></textarea>

        <!-- ðŸ”¹ Pulsante conferma -->
        <button type="submit" class="btn-confirm">âœ… Conferma Scarico</button>
    </form>
</div>

<style>
.content-wrapper {
    width: 80%;
    margin: 40px auto;
    padding: 40px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 16px;
    color: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.4);
}
h1 {
    color: #ff5555;
    text-align: center;
    margin-bottom: 30px;
}
.mag-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.mag-form label {
    font-weight: bold;
    color: #ccc;
}
.mag-form input,
.mag-form select,
.mag-form textarea {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #555;
    background: #111;
    color: white;
}
.btn-confirm {
    background-color: #dc3545;
    color: white;
    padding: 12px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
}
.btn-confirm:hover {
    background-color: #b02a37;
}
</style>
{% endblock %}
